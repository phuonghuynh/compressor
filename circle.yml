---
general:
  branches:
    ignore:
      - /release.*/
machine:
  pre:
    - echo "" > ~/.gitconfig
  java:
    version: oraclejdk8
  environment:
    PROCESSING_URL: http://b.papi.staging.finix.io/

test:
  override:
    - echo "ignored"

deployment:
  snapshot:
    branch: staged
    owner: phuonghuynh
    commands:
      - git config --list
      - git config user.name "phuonghuynh"
      - git config user.email "phuonghqh@gmail.com"
      - git remote prune origin
      - git checkout master && git pull -a && git checkout staged
      - mvn -X --batch-mode -Dmaven.javadoc.skip=true -DautoVersionSubmodules=true -DallowUntracked=true -DallowSnapshots=true -DskipTests=true jgitflow:release-start jgitflow:release-finish
